Version 4.1
SHEET 1 2236 2108
WIRE 672 704 608 704
WIRE 784 704 736 704
WIRE 608 816 608 704
WIRE 608 816 384 816
WIRE 656 816 608 816
WIRE 784 816 784 704
WIRE 784 816 736 816
WIRE 912 816 784 816
WIRE 1088 816 912 816
WIRE 1264 816 1168 816
WIRE 1456 816 1264 816
WIRE 1600 816 1456 816
WIRE -288 832 -288 784
WIRE 912 912 912 816
WIRE 1264 912 1264 816
WIRE 1600 912 1600 816
WIRE 384 928 384 816
WIRE -512 944 -512 912
WIRE -512 1056 -512 1024
WIRE -400 1056 -400 912
WIRE -288 1056 -288 912
WIRE 384 1072 384 1008
WIRE 912 1072 912 976
WIRE 1264 1072 1264 976
WIRE 1600 1072 1600 992
FLAG 384 1072 0
FLAG 720 864 0
FLAG 912 1072 0
FLAG 1264 1072 0
FLAG 1600 1072 0
FLAG 1456 816 out
FLAG -288 1056 0
FLAG 672 864 g1
FLAG -288 784 g1
FLAG -400 1056 0
FLAG -400 832 tri
FLAG -512 1056 0
FLAG -512 832 compare
SYMBOL voltage 384 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL sw 752 816 M270
WINDOW 3 24 96 Invisible 2
SYMATTR Value userSW
SYMATTR InstName S1
SYMBOL diode 736 688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value userD
SYMBOL diode 928 976 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value userD
SYMBOL ind 1072 832 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
WINDOW 39 -31 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 50µ
SYMATTR SpiceLine Rser=0.05
SYMBOL cap 1248 912 R0
WINDOW 39 24 92 Left 2
SYMATTR SpiceLine Rser=0.15
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 1584 896 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL bv -288 816 R0
SYMATTR InstName B1
SYMATTR Value V=if(v(compare,tri)>=0,12,0)
SYMBOL voltage -400 816 R0
WINDOW 3 24 96 Invisible 2
SYMATTR Value PULSE(0 1 0 {0.5*Ts} {0.5*Ts} 0 {Ts})
SYMATTR InstName V2
SYMBOL voltage -512 816 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 0.5
SYMATTR InstName V3
SYMBOL voltage -512 928 R0
WINDOW 3 24 52 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 0
SYMATTR InstName V4
TEXT 496 -128 Left 2 !.options gmin=1e-10\n.options abstol=1e-10\n.options reltol=0.003\n.options method=gear\n.options cshunt=1e-12\n.options gshunt=1e-9\n \n.model userSW SW(Ron=1m Roff=1Meg Vt=5 Vh=0)\n.model userD D(Ron=1m Roff=1Meg Vfwd=0.1)\n \n.param fs=200k\n.param Ts=1/fs\n \n.param simTime=500*Ts\n*.param dataTime=simTime-2*Ts\n.param dataTime=0\n.param maxstep=Ts/10\n \n.tran 0 {simTime} {dataTime} {maxstep} uic
