Version 4.1
SHEET 1 2072 1836
WIRE 320 -688 64 -688
WIRE 608 -640 496 -640
WIRE 320 -624 256 -624
WIRE 976 -400 592 -400
WIRE 1472 -400 1120 -400
WIRE 1728 -400 1472 -400
WIRE 976 -384 912 -384
WIRE 1120 -384 1120 -400
WIRE 1120 -384 1040 -384
WIRE 592 -352 592 -400
WIRE 1472 -352 1472 -400
WIRE 1520 -352 1472 -352
WIRE 1728 -352 1584 -352
WIRE 1520 -336 1472 -336
WIRE 1520 -320 1360 -320
WIRE 1472 -240 1472 -336
WIRE 1360 -192 1360 -320
WIRE 64 -112 64 -688
WIRE 64 -112 0 -112
WIRE 192 -112 64 -112
WIRE 688 -96 640 -96
WIRE 912 -96 912 -384
WIRE 912 -96 688 -96
WIRE 576 -80 336 -80
WIRE 64 -64 64 -112
WIRE 688 -64 640 -64
WIRE 976 -64 688 -64
WIRE 1488 -48 1040 -48
WIRE 1744 -48 1488 -48
WIRE 976 -16 608 -16
WIRE 1488 0 1488 -48
WIRE 1536 0 1488 0
WIRE 1744 0 1600 0
WIRE 1536 16 1488 16
WIRE 608 32 608 -16
WIRE 1536 32 1376 32
WIRE 64 48 64 16
WIRE 1488 112 1488 16
WIRE 1376 160 1376 32
WIRE 96 288 16 288
WIRE 176 288 96 288
WIRE 96 400 96 288
WIRE 96 544 16 544
WIRE 176 544 96 544
WIRE 1056 544 928 544
WIRE 1216 544 1056 544
WIRE 1344 544 1296 544
WIRE 928 576 928 544
WIRE 1056 592 1056 544
WIRE 96 656 96 544
WIRE 1232 656 1232 592
WIRE 928 688 928 656
WIRE 1056 688 1056 656
WIRE 1344 688 1344 544
WIRE 96 816 16 816
WIRE 176 816 96 816
WIRE 1056 848 928 848
WIRE 1216 848 1056 848
WIRE 1344 848 1296 848
WIRE 928 880 928 848
WIRE 1056 896 1056 848
WIRE 96 928 96 816
WIRE 1232 960 1232 896
WIRE 928 992 928 960
WIRE 1056 992 1056 960
WIRE 1344 992 1344 848
FLAG 0 -112 fn
IOPIN 0 -112 BiDir
FLAG 1728 -400 g1
IOPIN 1728 -400 BiDir
FLAG 1744 -48 g2
IOPIN 1744 -48 BiDir
FLAG 64 48 0
FLAG 1056 688 0
FLAG 928 688 0
FLAG 1344 688 0
FLAG 1232 736 0
FLAG 1280 592 0
FLAG 688 -96 a
FLAG 688 -64 b
FLAG 16 288 dtMR
IOPIN 16 288 BiDir
FLAG 96 480 0
FLAG 1056 544 rpt1
FLAG 592 -272 0
FLAG 1056 992 0
FLAG 928 992 0
FLAG 1344 992 0
FLAG 1232 1040 0
FLAG 1280 896 0
FLAG 1056 848 rpt2
FLAG 608 112 0
FLAG 16 544 dtSR1
IOPIN 16 544 BiDir
FLAG 96 736 0
FLAG 1472 -160 0
FLAG 1728 -352 gSR1
IOPIN 1728 -352 BiDir
FLAG 16 816 dtSR2
IOPIN 16 816 BiDir
FLAG 96 1008 0
FLAG 256 -624 a
FLAG 320 -656 0
FLAG 608 -640 c
FLAG 1360 -112 0
FLAG 1488 192 0
FLAG 1744 0 gSR2
IOPIN 1744 0 BiDir
FLAG 1376 240 0
SYMBOL SpecialFunctions\\modulate 192 -112 R0
WINDOW 3 2 114 Left 2
SYMATTR Value mark=1k space=0
SYMATTR InstName A1
SYMBOL Digital\\schmitt 576 -144 R0
WINDOW 3 -29 -22 Left 2
SYMATTR Value vt=0 vh=0
SYMATTR InstName A2
SYMBOL Digital\\and 1008 -432 R0
SYMATTR InstName A3
SYMBOL Digital\\and 1008 -96 R0
SYMATTR InstName A4
SYMBOL voltage 64 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 100
SYMBOL cap 1040 592 R0
SYMATTR InstName C1
SYMATTR Value 10u
SYMATTR SpiceLine Rser=0
SYMBOL current 928 656 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 10u
SYMBOL sw 1312 544 M270
SYMATTR InstName S1
SYMBOL bv 1232 640 R0
SYMATTR InstName B1
SYMATTR Value V=v(b)
SYMBOL voltage 96 384 R0
SYMATTR InstName V2
SYMATTR Value 500n
SYMBOL bv 592 -368 R0
SYMATTR InstName B2
SYMATTR Value V=if(v(rpt1)>v(dtMR),1,0)
SYMBOL cap 1040 896 R0
SYMATTR InstName C2
SYMATTR Value 10u
SYMATTR SpiceLine Rser=0
SYMBOL current 928 960 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 10u
SYMBOL sw 1312 848 M270
SYMATTR InstName S2
SYMBOL bv 1232 944 R0
SYMATTR InstName B3
SYMATTR Value V=v(a)
SYMBOL bv 608 16 R0
SYMATTR InstName B4
SYMATTR Value V=if(v(rpt2)>v(dtMR),1,0)
SYMBOL voltage 96 640 R0
SYMATTR InstName V3
SYMATTR Value 500n
SYMBOL Digital\\and 1552 -400 R0
SYMATTR InstName A5
SYMBOL bv 1472 -256 R0
SYMATTR InstName B5
SYMATTR Value V=if(v(rpt1)>v(dtSR1)+v(dtMR),1,0)
SYMBOL voltage 96 912 R0
SYMATTR InstName V4
SYMATTR Value 1u
SYMBOL SpecialFunctions\\sample 400 -656 R0
WINDOW 123 -64 -44 Left 2
SYMATTR InstName A6
SYMATTR Value2 Vhigh=1000 Rout=1m
SYMBOL bv 1360 -208 R0
SYMATTR InstName B6
SYMATTR Value V=if(v(rpt1)>0.5/(v(c)*1000)-v(dtSR2),0,1)
SYMBOL bv 1488 96 R0
SYMATTR InstName B7
SYMATTR Value V=if(v(rpt2)>v(dtSR1)+v(dtMR),1,0)
SYMBOL bv 1376 144 R0
SYMATTR InstName B8
SYMATTR Value V=if(v(rpt2)>0.5/(v(c)*1000)-v(dtSR2),0,1)
SYMBOL Digital\\and 1568 -48 R0
SYMATTR InstName A7
TEXT 616 -560 Left 2 !.tran 0 {simTime} 0 10n uic
TEXT 296 -456 Left 2 !.param simTime=2.75/100k
TEXT 848 408 Left 2 !.model SW SW(Ron=1m vt=0.5 vh=0)
