Version 4.1
SHEET 1 3076 3708
WIRE -912 864 -976 864
WIRE -624 864 -912 864
WIRE 288 864 -624 864
WIRE -624 912 -624 864
WIRE -624 912 -720 912
WIRE -560 912 -624 912
WIRE -720 944 -720 912
WIRE -624 944 -624 912
WIRE -560 960 -560 912
WIRE 288 960 288 864
WIRE -976 992 -976 864
WIRE -720 1040 -720 1024
WIRE -624 1040 -624 1008
WIRE -624 1040 -720 1040
WIRE -560 1040 -560 1024
WIRE -560 1040 -624 1040
WIRE -624 1104 -624 1040
WIRE -560 1104 -624 1104
WIRE -400 1104 -560 1104
WIRE -144 1104 -320 1104
WIRE -64 1104 -144 1104
WIRE 96 1104 16 1104
WIRE 288 1104 288 1024
WIRE 288 1104 96 1104
WIRE -624 1168 -624 1104
WIRE -624 1168 -720 1168
WIRE -544 1168 -624 1168
WIRE -976 1184 -976 1072
WIRE -720 1200 -720 1168
WIRE -624 1216 -624 1168
WIRE -544 1216 -544 1168
WIRE 288 1216 288 1104
WIRE -144 1232 -144 1104
WIRE -80 1232 -144 1232
WIRE 96 1232 96 1104
WIRE 96 1232 0 1232
WIRE -720 1312 -720 1280
WIRE -624 1312 -624 1280
WIRE -624 1312 -720 1312
WIRE -544 1312 -544 1280
WIRE -544 1312 -624 1312
WIRE 288 1360 288 1280
WIRE -624 1376 -624 1312
WIRE -512 1488 -624 1488
WIRE -400 1488 -432 1488
WIRE -128 1488 -320 1488
WIRE -32 1488 -128 1488
WIRE 80 1488 48 1488
WIRE 288 1488 160 1488
WIRE -624 1568 -624 1488
WIRE -624 1568 -720 1568
WIRE -544 1568 -624 1568
WIRE 288 1568 288 1488
WIRE 288 1568 192 1568
WIRE 400 1568 288 1568
WIRE -720 1600 -720 1568
WIRE 192 1600 192 1568
WIRE -624 1616 -624 1568
WIRE -544 1616 -544 1568
WIRE 288 1616 288 1568
WIRE 400 1616 400 1568
WIRE -720 1712 -720 1680
WIRE -624 1712 -624 1680
WIRE -624 1712 -720 1712
WIRE -544 1712 -544 1680
WIRE -544 1712 -624 1712
WIRE 192 1712 192 1680
WIRE 288 1712 288 1680
WIRE 288 1712 192 1712
WIRE 400 1712 400 1680
WIRE 400 1712 288 1712
WIRE 288 1728 288 1712
WIRE -624 1744 -624 1712
WIRE -128 1808 -128 1488
WIRE 64 1808 -128 1808
WIRE 192 1808 64 1808
WIRE 288 1808 192 1808
WIRE 432 1808 368 1808
WIRE 560 1808 432 1808
WIRE 656 1808 560 1808
WIRE 784 1808 656 1808
WIRE 976 1808 864 1808
WIRE -128 1888 -128 1808
WIRE 64 1888 64 1808
WIRE 192 1888 192 1808
WIRE 432 1888 432 1808
WIRE 560 1888 560 1808
WIRE 800 1904 800 1856
WIRE 976 1920 976 1808
WIRE 64 1968 64 1952
WIRE 192 1968 192 1952
WIRE 432 1968 432 1952
WIRE -128 2064 -128 1968
WIRE 64 2064 64 2048
WIRE 192 2064 192 2048
WIRE 432 2064 432 2048
WIRE 560 2064 560 1968
WIRE 800 2064 800 1984
WIRE 976 2064 976 2000
FLAG -624 1376 0
FLAG 64 2064 0
FLAG -128 2064 0
FLAG -560 1104 a
FLAG -976 1184 0
FLAG 288 1728 0
FLAG -624 1744 0
FLAG 656 1808 vout
FLAG -912 864 vin
FLAG 288 1488 c
FLAG -624 1488 d
FLAG 288 1360 0
FLAG -768 1008 0
FLAG -768 960 g1
FLAG -768 1264 0
FLAG -768 1216 g2
FLAG 288 1104 b
FLAG 192 2064 0
FLAG 432 2064 0
FLAG 64 1808 e
FLAG 560 2064 0
FLAG -768 1664 0
FLAG -768 1616 gsr1
FLAG 144 1664 0
FLAG 144 1616 gsr2
FLAG -1776 1024 0
FLAG -1776 944 g1
FLAG -1776 1184 0
FLAG -1776 1104 g2
FLAG -1776 1360 0
FLAG -1776 1280 gsr1
FLAG -1776 1536 0
FLAG -1776 1456 gsr2
FLAG 848 1856 0
FLAG 976 2064 0
FLAG 800 2064 0
SYMBOL diode -608 1008 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D1
SYMATTR Value userD
SYMBOL cap 48 1888 R0
WINDOW 3 24 44 Left 2
SYMATTR Value 630u
SYMATTR InstName C1
SYMBOL res -144 1872 R0
SYMATTR InstName R1
SYMATTR Value 1000
SYMBOL voltage -976 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 425
SYMBOL diode -608 1280 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D2
SYMATTR Value userD
SYMBOL ind -416 1120 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {Lr}
SYMATTR SpiceLine Rser=1m
SYMBOL cap 272 960 R0
SYMATTR InstName C5
SYMATTR Value {Cr/2}
SYMBOL ind2 32 1088 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L2
SYMATTR Value {Lm}
SYMATTR Type ind
SYMBOL ind2 64 1504 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName T2
SYMATTR Value 10m
SYMATTR SpiceLine Rser=1m
SYMATTR Type ind
SYMBOL ind2 -416 1504 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName T3
SYMATTR Value 10m
SYMATTR SpiceLine Rser=1m
SYMATTR Type ind
SYMBOL diode 304 1680 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D5
SYMATTR Value userD
SYMBOL diode -608 1680 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D6
SYMATTR Value userD
SYMBOL ind2 16 1216 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName T1
SYMATTR Value {10m*n**2}
SYMATTR Type ind
SYMBOL cap 272 1216 R0
SYMATTR InstName C4
SYMATTR Value {Cr/2}
SYMBOL sw -720 1040 M180
WINDOW 3 24 -20 Invisible 2
SYMATTR InstName S1
SYMBOL ind 272 1824 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 50n
SYMBOL current 560 1888 R0
WINDOW 3 24 152 Left 2
WINDOW 39 24 116 Left 2
WINDOW 123 0 0 Left 0
SYMATTR Value 18
SYMATTR SpiceLine load
SYMATTR InstName I2
SYMBOL res 416 1952 R0
SYMATTR InstName R10
SYMATTR Value 0.05
SYMBOL res 176 1952 R0
SYMATTR InstName R11
SYMATTR Value 0.05
SYMBOL res 48 1952 R0
SYMATTR InstName R12
SYMATTR Value 0.05
SYMBOL cap -576 960 R0
SYMATTR InstName C3
SYMATTR Value 100p
SYMBOL sw -720 1296 M180
WINDOW 3 24 -20 Invisible 2
SYMATTR InstName S2
SYMBOL cap -560 1216 R0
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL cap -560 1616 R0
SYMATTR InstName C6
SYMATTR Value 100p
SYMBOL cap 384 1616 R0
SYMATTR InstName C7
SYMATTR Value 100p
SYMBOL cap 176 1888 R0
WINDOW 3 24 44 Left 2
SYMATTR Value 630u
SYMATTR InstName C8
SYMBOL cap 416 1888 R0
WINDOW 3 24 44 Left 2
SYMATTR Value 630u
SYMATTR InstName C9
SYMBOL sw -720 1696 M180
WINDOW 3 24 -20 Invisible 2
SYMATTR InstName S3
SYMBOL sw 192 1696 M180
WINDOW 3 24 -20 Invisible 2
SYMATTR InstName S4
SYMBOL voltage -1776 928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 12 0 1n 1n {0.5*Ts-dt} {Ts})
SYMBOL voltage -1776 1088 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 12 {0.5*Ts} 1n 1n {0.5*Ts-dt} {Ts})
SYMBOL voltage -1776 1264 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 12 {SRdt1} 1n 1n {0.5*Ts-dt-SRdt1-SRdt2} {Ts})
SYMBOL voltage -1776 1440 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 12 {SRdt1+0.5*Ts} 1n 1n {0.5*Ts-dt-SRdt1-SRdt2} {Ts})
SYMBOL sw 880 1808 M270
WINDOW 3 24 -20 Invisible 2
SYMATTR InstName S5
SYMBOL voltage 976 1904 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 57.5
SYMBOL voltage 800 1888 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 12 1.5m 2u 2u 50u)
SYMBOL ind -416 1472 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L4
SYMATTR Value 30n
SYMBOL ind 64 1472 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L5
SYMATTR Value 30n
TEXT -2640 856 Left 2 !.param fs=92k Ts=1/fs\n.param duty=0.5\n.param dt=200n SRdt1=800n SRdt2=500n\n \n.param simTime=3m\n.param dataTime=0.5m\n.param maxstep=Ts/100\n \n.param Lm=200u Lr=20u Cr=164n n=3.75
TEXT -2632 784 Left 2 !.tran 0 {simTime} {dataTime} {maxstep} uic
TEXT -216 1368 Left 2 !k T1 T2 T3 1
TEXT -2640 1232 Left 2 !.options gmin=1e-10\n.options abstol=1e-10\n.options reltol=0.003\n.options method=gear\n.options cshunt=1e-12\n.options gshunt=1e-9\n \n.model SW SW(Ron=1m Roff=1Meg Vt=5 Vh=0)\n.model userD D(Ron=1m Roff=1Meg Vfwd=0.5)
TEXT -144 2176 Left 2 !.ic v(e)=53.5V V(vout)=53.5V
